# How to Set Up JumpCloud as IDP

You can use [JumpCloud](jumpcloud.com) as an identity provider for
Auditbox. JumpCloud lets you use various authentication methods,
like logging in with Google, Microsoft or a custom JumpCloud account.


# Setup

## Create and set up JumpCloud SSO Application

This step depends heavily on how you plan to use JumpCloud.
This page assumes custom OIDC application (managing everything within
JumpCloud), but integrations with Google, Microsoft, Amazon, etc.
accounts is possible.

Some key points:
- Auditbox only supports OIDC logins, not SAML, so some login
  options may not work, like Google Workspace by default.
- Client authentication type should be set to "Client Secret Post".
- Login url should be the base url of where Auditbox is deployed.
- Make sure your test user has permissions to access the application.
- Make sure that the SSO setup has proper redirect URL. Upon logging
  in, you must be redirected onto url of Auditbox with path
  `/auth/callback/keycloak`.

## Configure Auditbox

Auditbox managed IDP setup via environmental variables.
Below is an overview of values and how they should be configured.

### IDP_CLIENT_ID
ID of the IDP client that gets used during authentication.
Should be generated by the underlying identity provider.

### IDP_CLIENT_SECRET
Token used to authenticate into the client.
Should be generated by the underlying identity provider.

### IDP_AUTHORIZE_ENDPOINT
Endpoint for OIDC authentication.
Value should be `https://oauth.id.jumpcloud.com/oauth2/auth`.

### IDP_TOKEN_ENDPOINT
Endpoint for generating OIDC tokens.
Value should be `https://oauth.id.jumpcloud.com/oauth2/token`.

### IDP_JWKS_URI
Path to JWKS file, used to verify logins.
Value should be `https://oauth.id.jumpcloud.com/.well-known/jwks.json`.
