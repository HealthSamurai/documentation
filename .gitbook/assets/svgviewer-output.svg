<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="708px" preserveAspectRatio="none" style="width:468px;height:708px;background:#FFFFFF;" version="1.1" viewBox="0 0 468 708" width="468px" zoomAndPan="magnify"><defs></defs><g><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="321.5" x="10" y="53.2969"></rect><rect fill="none" height="175.6016" style="stroke:#000000;stroke-width:1.5;" width="321.5" x="10" y="113.5625"></rect><rect fill="none" height="74.3984" style="stroke:#000000;stroke-width:1.5;" width="316" x="93.5" y="390.5625"></rect><rect fill="none" height="177.6016" style="stroke:#000000;stroke-width:1.5;" width="451" x="10" y="478.9609"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="40" x2="40" y1="36.2969" y2="673.5625"></line><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="212.5" x2="212.5" y1="36.2969" y2="673.5625"></line><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="404" x2="404" y1="36.2969" y2="673.5625"></line><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="20" y="5"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="27" y="24.9951">App</text><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="20" y="672.5625"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="27" y="692.5576">App</text><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="103.5" y="5"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="110.5" y="24.9951">EHR with Aidbox as Auth Server</text><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="103.5" y="672.5625"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="110.5" y="692.5576">EHR with Aidbox as Auth Server</text><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="374" y="5"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="380" y="24.9951">Aidbox</text><rect fill="#EA4A35" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="374" y="672.5625"></rect><text fill="#ffffff" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="380" y="692.5576">Aidbox</text><path d="M10,53.2969 L80,53.2969 L80,60.4297 L70,70.4297 L10,70.4297 L10,53.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="321.5" x="10" y="53.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="66.3638">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="219" x="95" y="65.5073">[Precondition: Client Registration]</text><line style="stroke:#181818;stroke-width:1.0;" x1="210.5" x2="200.5" y1="91.5625" y2="87.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="210.5" x2="200.5" y1="91.5625" y2="95.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="211.5" y1="91.5625" y2="91.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="47.5" y="86.4966">(may be out of band)</text><path d="M10,113.5625 L74,113.5625 L74,120.6953 L64,130.6953 L10,130.6953 L10,113.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="175.6016" style="stroke:#000000;stroke-width:1.5;" width="321.5" x="10" y="113.5625"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="126.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85" x="89" y="125.7729">[EHR Launch]</text><line style="stroke:#181818;stroke-width:1.0;" x1="212.5" x2="254.5" y1="166.9609" y2="166.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="254.5" x2="254.5" y1="166.9609" y2="179.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="254.5" y1="179.9609" y2="179.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="223.5" y1="179.9609" y2="175.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="223.5" y1="179.9609" y2="183.9609"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="219.5" y="146.7622">EHR user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="219.5" y="161.895">launches app</text><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="209.0938" y2="205.0938"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="209.0938" y2="213.0938"></line><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="211.5" y1="209.0938" y2="209.0938"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="57.5" y="204.0278">Launch request</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="331.5" y1="218.0938" y2="218.0938"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="15" y="228.3042">[Standalone Launch]</text><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="82.5" y1="268.1641" y2="268.1641"></line><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="268.1641" y2="281.1641"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="82.5" y1="281.1641" y2="281.1641"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="281.1641" y2="277.1641"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="281.1641" y2="285.1641"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="47.5" y="247.9653">App user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="47.5" y="263.0981">connects to EHR</text><polygon fill="#181818" points="392.5,313.2969,402.5,317.2969,392.5,321.2969,396.5,317.2969" style="stroke:#181818;stroke-width:1.0;"></polygon><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="398.5" y1="317.2969" y2="317.2969"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="47.5" y="312.231">Discovery request</text><polygon fill="#181818" points="51.5,342.4297,41.5,346.4297,51.5,350.4297,47.5,346.4297" style="stroke:#181818;stroke-width:1.0;"></polygon><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="403.5" y1="346.4297" y2="346.4297"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="57.5" y="341.3638">Discovery response</text><line style="stroke:#181818;stroke-width:1.0;" x1="210.5" x2="200.5" y1="375.5625" y2="371.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="210.5" x2="200.5" y1="375.5625" y2="379.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="211.5" y1="375.5625" y2="375.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="47.5" y="370.4966">Authorization request</text><path d="M93.5,390.5625 L163.5,390.5625 L163.5,397.6953 L153.5,407.6953 L93.5,407.6953 L93.5,390.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="74.3984" style="stroke:#000000;stroke-width:1.5;" width="316" x="93.5" y="390.5625"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="108.5" y="403.6294">opt</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="212.5" x2="254.5" y1="443.9609" y2="443.9609"></line><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="254.5" x2="254.5" y1="443.9609" y2="456.9609"></line><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="213.5" x2="254.5" y1="456.9609" y2="456.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="223.5" y1="456.9609" y2="452.9609"></line><line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="223.5" y1="456.9609" y2="460.9609"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="219.5" y="423.7622">EHR incorporates user input</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="219.5" y="438.895">into authorization decision</text><path d="M10,478.9609 L74,478.9609 L74,486.0938 L64,496.0938 L10,496.0938 L10,478.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="177.6016" style="stroke:#000000;stroke-width:1.5;" width="451" x="10" y="478.9609"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="492.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="61" x="89" y="491.1714">[Granted]</text><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="517.2266" y2="513.2266"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="517.2266" y2="521.2266"></line><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40.5" x2="211.5" y1="517.2266" y2="517.2266"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="57.5" y="512.1606">Authorization granted</text><polygon fill="#181818" points="200.5,542.3594,210.5,546.3594,200.5,550.3594,204.5,546.3594" style="stroke:#181818;stroke-width:1.0;"></polygon><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="206.5" y1="546.3594" y2="546.3594"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="47.5" y="541.2935">Access token request</text><polygon fill="#181818" points="51.5,571.4922,41.5,575.4922,51.5,579.4922,47.5,575.4922" style="stroke:#181818;stroke-width:1.0;"></polygon><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="211.5" y1="575.4922" y2="575.4922"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="57.5" y="570.4263">Access token response</text><polygon fill="#181818" points="392.5,600.625,402.5,604.625,392.5,608.625,396.5,604.625" style="stroke:#181818;stroke-width:1.0;"></polygon><line style="stroke:#181818;stroke-width:1.0;" x1="40.5" x2="398.5" y1="604.625" y2="604.625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="47.5" y="599.5591">Request Resources</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="461" y1="613.625" y2="613.625"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55" x="15" y="623.8354">[Denied]</text><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="648.5625" y2="644.5625"></line><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="51.5" y1="648.5625" y2="652.5625"></line><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40.5" x2="211.5" y1="648.5625" y2="648.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="57.5" y="643.4966">Authorization error</text></g></svg>