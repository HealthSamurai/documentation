# –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–Ω–∏–∑ –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ

## –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```
üìÅ Getting Started
  üìÑ Introduction
  üìÑ Installation     <- –ø–µ—Ä–µ–º–µ—â–∞–µ–º —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É
  üìÑ Configuration
  üìÑ First Steps
```

## –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 1. –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (Drag Start)

**–î–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ù–∞–≤–æ–¥–∏—Ç –∫—É—Ä—Å–æ—Ä –Ω–∞ "Installation", 
–ø–æ—è–≤–ª—è–µ—Ç—Å—è drag handle (‚ãÆ‚ãÆ), –∑–∞–∂–∏–º–∞–µ—Ç –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç–∞—â–∏—Ç—å.

**–°–æ–±—ã—Ç–∏—è SortableJS**:
```javascript
onStart: (evt) => {
  // evt.item = <a>Installation</a>
  // evt.oldIndex = 1
  // evt.from = container —ç–ª–µ–º–µ–Ω—Ç Getting Started
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**:
```javascript
dragState: {
  isDragging: true,
  draggedItem: {
    id: "installation",
    title: "Installation",
    type: "document",
    parentId: "getting-started",
    order: 1
  },
  originalParent: "getting-started",
  originalIndex: 1
}
```

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- –≠–ª–µ–º–µ–Ω—Ç "Installation" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º (opacity: 0.4)
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è ghost —ç–ª–µ–º–µ–Ω—Ç –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è (opacity: 0)

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ (Drag Over)

**–î–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –≤–Ω–∏–∑, –ø—Ä–æ—Ö–æ–¥—è –º–∏–º–æ "Configuration".

**–°–æ–±—ã—Ç–∏—è**:
```javascript
onMove: (evt) => {
  // evt.related = <a>Configuration</a>
  // evt.willInsertAfter = true
}
```

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ú–µ–∂–¥—É "Configuration" –∏ "First Steps" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—è—è –ª–∏–Ω–∏—è (drop indicator)
- –õ–∏–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫—É–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç
- –û—Ç—Å—Ç—É–ø –ª–∏–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É —É—Ä–æ–≤–Ω—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

### 3. –û—Ç–ø—É—Å–∫–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (Drop)

**–î–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –û—Ç–ø—É—Å–∫–∞–µ—Ç –∫–Ω–æ–ø–∫—É –º—ã—à–∏ –º–µ–∂–¥—É "Configuration" –∏ "First Steps".

**–°–æ–±—ã—Ç–∏—è SortableJS**:
```javascript
onEnd: (evt) => {
  // evt.item = <a>Installation</a>
  // evt.to = container —ç–ª–µ–º–µ–Ω—Ç Getting Started (—Ç–æ—Ç –∂–µ)
  // evt.from = container —ç–ª–µ–º–µ–Ω—Ç Getting Started
  // evt.oldIndex = 1
  // evt.newIndex = 2
}
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
```javascript
const operation = determineOperation(evt);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { type: 'reorder', sameParent: true }
```

**–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
```javascript
const change = {
  id: "change-001",
  type: "reorder",
  nodeId: "installation",
  parentId: "getting-started",
  fromIndex: 1,
  toIndex: 2,
  timestamp: 1643723456789
};
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pendingChanges**:
```javascript
pendingChanges: {
  moves: [],
  renames: [],
  reorders: [{
    id: "change-001",
    nodeId: "installation",
    parentId: "getting-started", 
    fromIndex: 1,
    toIndex: 2,
    timestamp: 1643723456789
  }],
  conversions: []
}
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

**–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞**:
```javascript
// –ù–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤ navigationTree:
[
  { title: "Introduction", order: 0 },
  { title: "Configuration", order: 1 },    // –±—ã–ª order: 2
  { title: "Installation", order: 2 },     // –±—ã–ª order: 1
  { title: "First Steps", order: 3 }
]
```

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**:
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –æ—Ä–∞–Ω–∂–µ–≤–∞—è –ø–æ–ª–æ—Å–∞ —Å–ª–µ–≤–∞ (4px width)
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è —Ç–æ—á–∫–∞ —Å —Ü–∏—Ñ—Ä–æ–π "1" (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- –ö–Ω–æ–ø–∫–∞ Save —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Save Changes (1)"

### 6. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–∞–Ω–µ–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```javascript
<ChangesPanel>
  <div className="change-group">
    <h4>Reorders (1)</h4>
    <div className="change-item">
      <span className="icon">‚ÜïÔ∏è</span>
      <span className="description">
        Installation: position 2 ‚Üí 3 in Getting Started
      </span>
      <button className="undo">‚Ü∂</button>
    </div>
  </div>
</ChangesPanel>
```

## –ö–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```
üìÅ Getting Started
  üìÑ Introduction
  üìÑ Configuration
  üìÑ Installation     <- –Ω–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è
  üìÑ First Steps
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ reorder
- –ù–µ —Å–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –≤ `moves`, —Ç–æ–ª—å–∫–æ –≤ `reorders`
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π payload –¥–ª—è –±—ç–∫–µ–Ω–¥–∞
- –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–ª–∞–≤–Ω–æ—Å—Ç—å
- CSS transitions –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π (200ms)
- –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
- –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ drop indicator

### 3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã
- –ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Ü∂ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
- –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∏–∑ pendingChanges
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª –ø–æ–∑–∏—Ü–∏—é
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ drop –Ω–∞ —Ç–æ –∂–µ –º–µ—Å—Ç–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥—É–º–∞–ª
- ESC –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è = –æ—Ç–º–µ–Ω–∞
- Drop –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤–∞–ª–∏–¥–Ω–æ–π –∑–æ–Ω—ã = –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –º–µ—Å—Ç–æ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞

### –ï—Å–ª–∏ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ pending changes
- –ù–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
